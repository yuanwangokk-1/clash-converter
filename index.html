<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Clashè®¢é˜…è½¬æ¢ Â· å…¨è§„åˆ™æ•´åˆä¸“ä¸šç‰ˆ</title>
    <style>
        /* ========== åŸºç¡€æ ·å¼ä¸å¸ƒå±€ ========== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 1100px;
            background-color: rgba(255, 255, 255, 0.98);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(to right, #4a00e0, #8e2de2);
            color: white;
            padding: 25px 20px;
            text-align: center;
        }

        .header h1 {
            font-size: 24px;
            margin-bottom: 8px;
            letter-spacing: 1px;
        }

        .header p {
            opacity: 0.85;
            font-size: 14px;
        }

        .content {
            padding: 25px;
        }

        /* ========== æ ‡ç­¾é¡µç³»ç»Ÿ ========== */
        .tab-container {
            display: flex;
            margin-bottom: 25px;
            border-bottom: 2px solid #f0f0f0;
        }

        .tab {
            padding: 12px 25px;
            cursor: pointer;
            font-weight: 600;
            color: #666;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
        }

        .tab.active {
            color: #8e2de2;
            border-bottom-color: #8e2de2;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.4s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(5px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ========== è¡¨å•å…ƒç´  ========== */
        .input-group {
            margin-bottom: 22px;
        }

        label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: #444;
        }

        input,
        textarea,
        select {
            width: 100%;
            padding: 14px 16px;
            border: 1px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            background: #fff;
            transition: all 0.3s;
        }

        input:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: #8e2de2;
            box-shadow: 0 0 0 3px rgba(142, 45, 226, 0.15);
        }

        /* ========== ç§»åŠ¨ç«¯æ¨¡æ¿é€‰æ‹©å™¨æ ¸å¿ƒç¾åŒ– ========== */
        #configTemplate {
            height: 300px;
            /* PCç«¯ä¿æŒé«˜åº¦ */
            scrollbar-width: thin;
            scrollbar-color: #8e2de2 #f0f0f0;
        }

        /* é’ˆå¯¹æ‰‹æœºç«¯çš„åª’ä½“æŸ¥è¯¢ä¼˜åŒ– */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .content {
                padding: 15px;
            }

            #configTemplate {
                height: 260px !important;
                padding: 5px;
                border: 2px solid #eee;
                background: #fafafa;
            }

            #configTemplate option {
                padding: 15px 12px;
                /* æ›´å¤§çš„è§¦æ§é¢ç§¯ */
                margin-bottom: 6px;
                border-radius: 8px;
                background: #fff;
                border: 1px solid #eee;
                font-size: 14px;
                white-space: normal;
                word-break: break-all;
            }

            #configTemplate option:checked {
                background: linear-gradient(to right, #4a00e0, #8e2de2) !important;
                color: white !important;
                box-shadow: 0 4px 10px rgba(74, 0, 224, 0.2);
            }

            .button-group button {
                width: 100%;
                /* ç§»åŠ¨ç«¯æŒ‰é’®å…¨å®½ */
                margin-bottom: 10px;
            }
        }

        /* ========== æŒ‰é’®æ ·å¼ ========== */
        .button-group {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        button {
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .convert-btn {
            background: linear-gradient(to right, #4a00e0, #8e2de2);
        }

        .copy-btn {
            background: linear-gradient(to right, #00b09b, #96c93d);
        }

        .clear-btn {
            background: #ff4b2b;
        }

        button:hover {
            transform: translateY(-2px);
            opacity: 0.9;
        }

        button:active {
            transform: translateY(0);
        }

        /* ========== æ—¥å¿—ä¸ç»“æœåŒº ========== */
        .log-content {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 15px;
            border-radius: 10px;
            height: 160px;
            overflow-y: auto;
            font-family: 'Consolas', monospace;
            font-size: 13px;
            line-height: 1.6;
        }

        .log-entry.success {
            color: #4ec9b0;
        }

        .log-entry.error {
            color: #f48771;
        }

        .log-entry.info {
            color: #9cdcfe;
        }

        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            padding: 12px 24px;
            background: rgba(0, 0, 0, 0.85);
            color: white;
            border-radius: 50px;
            z-index: 1000;
            display: none;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {
                bottom: 0;
                opacity: 0;
            }

            to {
                bottom: 30px;
                opacity: 1;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>Clashè®¢é˜…è½¬æ¢ Â· ä¸“ä¸šç‰ˆ</h1>
            <p>åŸºäº ACL4SSR è§„åˆ™åº“ Â· é€‚é…ç§»åŠ¨ç«¯äº¤äº’</p>
        </div>

        <div class="content">
            <div class="tab-container">
                <div class="tab active" onclick="switchTab('single')">å•é“¾æ¥</div>
                <div class="tab" onclick="switchTab('batch')">æ‰¹é‡è½¬æ¢</div>
                <div class="tab" onclick="switchTab('config')">é…ç½®ç®¡ç†</div>
            </div>

            <div id="single-tab" class="tab-content active">
                <div class="input-group">
                    <label>è®¢é˜…é“¾æ¥</label>
                    <input type="text" id="originalUrl" placeholder="ç²˜è´´æ‚¨çš„åŸå§‹è®¢é˜…åœ°å€...">
                </div>
                <div class="button-group">
                    <button class="convert-btn" id="convertBtn">ç«‹å³è½¬æ¢</button>
                    <button class="copy-btn" id="copyBtn">å¤åˆ¶ç»“æœ</button>
                    <button class="clear-btn" id="clearBtn">æ¸…ç©º</button>
                </div>
                <div class="input-group">
                    <label>è½¬æ¢ç»“æœ</label>
                    <textarea id="convertedUrl" readonly rows="4" placeholder="è½¬æ¢åçš„åœ°å€å°†å‡ºç°åœ¨è¿™é‡Œ..."></textarea>
                </div>
            </div>

            <div id="batch-tab" class="tab-content">
                <div class="input-group">
                    <label>æ‰¹é‡é“¾æ¥ (æ¯è¡Œä¸€ä¸ª)</label>
                    <textarea id="batchUrls" rows="6" placeholder="https://...&#10;https://..."></textarea>
                </div>
                <div class="button-group">
                    <button class="convert-btn" id="batchConvertBtn">æ‰¹é‡ç”Ÿæˆ</button>
                    <button class="clear-btn" id="batchClearBtn">é‡ç½®</button>
                </div>
            </div>

            <div id="config-tab" class="tab-content">
                <div class="input-group">
                    <label>é€‰æ‹©è§„åˆ™æ¨¡æ¿ (ACL4SSR)</label>
                    <select id="configTemplate" size="8">
                        <option value="ACL4SSR_Online" selected>ğŸŒˆ é»˜è®¤ - ACL4SSR Online (æ¨è)</option>
                        <option value="ACL4SSR_Online_Full_AdblockPlus">ğŸ“¦ å®Œæ•´ç‰ˆ - Full_AdblockPlus (æ— å¹¿å‘Š)</option>
                        <option value="ACL4SSR_Online_Mini">ğŸ”° ç²¾ç®€ç‰ˆ - Mini</option>
                        <option value="ACL4SSR_Online_Full_Netflix">ğŸ¬ Netflix ä¸“ç‰ˆ</option>
                        <option value="ACL4SSR_Online_Full_Google">ğŸ” Google ä¸“ç‰ˆ</option>
                        <option value="ACL4SSR_Online_Full_AI">ğŸ¤– AI / ChatGPT ä¸“ç‰ˆ</option>
                        <option value="custom">âš™ï¸ è‡ªå®šä¹‰é…ç½® URL</option>
                    </select>
                </div>
                <div class="input-group" id="customConfigGroup" style="display:none;">
                    <label>è‡ªå®šä¹‰é…ç½®åœ°å€</label>
                    <input type="text" id="customConfigUrl" placeholder="https://raw.../config.ini">
                </div>
            </div>

            <div class="log-group">
                <label>æ“ä½œæ—¥å¿—</label>
                <div class="log-content" id="logContent">
                    <div class="log-entry info">ç³»ç»Ÿå°±ç»ªï¼Œç­‰å¾…è¾“å…¥...</div>
                </div>
            </div>
        </div>
    </div>

    <div class="toast" id="toast">å·²å¤åˆ¶åˆ°å‰ªè´´æ¿</div>

    <script>
        // é…ç½®å¸¸é‡
        const BASE_API = 'https://url.v1.mk/sub?target=clash&url=';
        const TEMPLATES = {
            'ACL4SSR_Online': 'https%3A%2F%2Fraw.githubusercontent.com%2FACL4SSR%2FACL4SSR%2Fmaster%2FClash%2Fconfig%2FACL4SSR_Online.ini',
            'ACL4SSR_Online_Full': 'https%3A%2F%2Fraw.githubusercontent.com%2FACL4SSR%2FACL4SSR%2Fmaster%2FClash%2Fconfig%2FACL4SSR_Online_Full.ini',
            'ACL4SSR_Online_Mini': 'https%3A%2F%2Fraw.githubusercontent.com%2FACL4SSR%2FACL4SSR%2Fmaster%2FClash%2Fconfig%2FACL4SSR_Online_Mini.ini',
            'ACL4SSR_Online_Full_Netflix': 'https%3A%2F%2Fraw.githubusercontent.com%2FACL4SSR%2FACL4SSR%2Fmaster%2FClash%2Fconfig%2FACL4SSR_Online_Full_Netflix.ini',
            'ACL4SSR_Online_Full_Google': 'https%3A%2F%2Fraw.githubusercontent.com%2FACL4SSR%2FACL4SSR%2Fmaster%2FClash%2Fconfig%2FACL4SSR_Online_Full_Google.ini',
            'ACL4SSR_Online_Full_AI': 'https%3A%2F%2Fraw.githubusercontent.com%2FACL4SSR%2FACL4SSR%2Fmaster%2FClash%2Fconfig%2FACL4SSR_Online_Full_AI.ini'
        };

        // æ ¸å¿ƒé€»è¾‘
        function addLog(msg, type = 'info') {
            const logBox = document.getElementById('logContent');
            const entry = document.createElement('div');
            entry.className = `log-entry ${type}`;
            entry.textContent = `[${new Date().toLocaleTimeString()}] ${msg}`;
            logBox.appendChild(entry);
            logBox.scrollTop = logBox.scrollHeight;
        }

        function showToast(msg) {
            const t = document.getElementById('toast');
            t.textContent = msg;
            t.style.display = 'block';
            setTimeout(() => t.style.display = 'none', 2000);
        }

        function switchTab(tabId) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            event.target.classList.add('active');
            document.getElementById(`${tabId}-tab`).classList.add('active');
            addLog(`åˆ‡æ¢åˆ°${event.target.textContent}é¢æ¿`);
        }

        // è½¬æ¢ç”Ÿæˆ
        function generateUrl(rawUrl) {
            const templateKey = document.getElementById('configTemplate').value;
            let configPart = '';

            if (templateKey === 'custom') {
                const customUrl = document.getElementById('customConfigUrl').value.trim();
                configPart = `&config=${encodeURIComponent(customUrl)}`;
            } else {
                configPart = `&config=${TEMPLATES[templateKey]}`;
            }

            return `${BASE_API}${encodeURIComponent(rawUrl)}${configPart}&emoji=true&list=false&udp=true`;
        }

        // äº‹ä»¶ç›‘å¬
        document.getElementById('convertBtn').onclick = () => {
            const input = document.getElementById('originalUrl').value.trim();
            if (!input) return addLog('è¯·è¾“å…¥è®¢é˜…åœ°å€', 'error');

            const result = generateUrl(input);
            document.getElementById('convertedUrl').value = result;
            addLog('é“¾æ¥è½¬æ¢æˆåŠŸ', 'success');
        };

        document.getElementById('copyBtn').onclick = () => {
            const res = document.getElementById('convertedUrl');
            res.select();
            document.execCommand('copy');
            showToast('å·²å¤åˆ¶ç»“æœ');
            addLog('å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
        };

        document.getElementById('clearBtn').onclick = () => {
            document.getElementById('originalUrl').value = '';
            document.getElementById('convertedUrl').value = '';
            addLog('å•é“¾æ¥æ•°æ®å·²æ¸…ç©º');
        };

        // æ¨¡æ¿é€‰æ‹©è‡ªåŠ¨å¤„ç†
        document.getElementById('configTemplate').onchange = (e) => {
            const isCustom = e.target.value === 'custom';
            document.getElementById('customConfigGroup').style.display = isCustom ? 'block' : 'none';

            if (window.innerWidth <= 768) {
                showToast(`å·²é€‰: ${e.target.options[e.target.selectedIndex].text}`);
            }
        };
    </script>
</body>

</html>